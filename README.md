# sticker_tools

Код для конвертації наперед підготовлених файлів у формат .webm для відеоналіпок
у телеграмі. Код налаштований на повільну, але якісну роботу, аби в доступні 255 кб
вмістити якомога більше даних з меншою кількістю артефактів від стиснення.

Програма також автоматично редагує метадані в конвертованій наліпці аби обійти ліміт
телеграму в 3 секунди. Ви можете завантажувати відеоналіпки з будь-якою тривалістю, якщо
їх розмір не перевищує 255 кб (але я не рекомендую понад 20 секунд).

Програма доступна через CLI і GUI.

Загалом хід роботи такий:
1. Підготуйте файл в будь-якому редакторі відео (обрізаєте краї, тривалість, додаєте ефекти, і т.п.)
2. Збережіть файл в одному з форматів: .mp4, .mov., .avi або .mkv. Файл обовʼязково повинен мати ширину
512 пікселів і висоту не більше 512 пікселів. FPS не повинен перевищувати 30.
3. Закиньте підготовлений файл в програму, натисніть кнопку і зачекайте. Конвертація
файлу займає від кількох секунд до кількох хвилин, залежно від файлу. Конвертація проходить повільно
аби досягти якнайкращого результату. Конвертована наліпка буде збережена в тій самій локації що й оригінал
4. (опційно) Замість GUI програми можете використовувати CLI - див. нижче.

## CLI
### Встановлення
1. Встановіть `ffmpeg`

      На Linux: 
   ```bash
   sudo apt install ffmpeg
   ```

      На MacOs: 
   ```zsh
   brew install ffmpeg
   ```

      На Windows: Розбирайтеся самі, легше просто завантажити 
      і запустити GUI (див. нижче)

2. Встановіть `Python >= 3.12`
3. Встановіть `sticker_tools` з PyPi за допомогою команди
   ```bash
   python3 -m pip install sticker-tools
   ```
   
### Використання
Пакет `sticker-tools` додає всього одну команду - `sticker`.
Першим і єдиним аргументом повинен бути шлях до файла який потрімно обробити.
1. Якщо формат файла - .webm - програма просто відредагує метадані аби зменшити
формальну тривалість наліпки до 1 секунди.
2. Якщо формат файла інший (.mp4, .mov, .avi або .mkv) - програма спочатку конвертує
файл в .webm, а тоді відредагує тривалість.

Шаблон команди:
```bash
sticker path/to/your/file
```

## GUI
Для Windows існує інтуітивна GUI версія програми, яка включає
усі необхідні залежності. Просто завантажте і запустіть. Скомпільована
версія також включає інструкцію з використання.

Скомпільовані .exe файли будуть публікуватися в розділі релізів.


